{"ast":null,"code":"import React from'react';import'../css/Postdetails.css';import{useNavigate}from'react-router-dom';import{toast}from'react-toastify';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PostDetail(_ref){let{item,toggleshow}=_ref;const navigate=useNavigate();const notifyA=msg=>toast.error(msg);const notifyB=msg=>toast.success(msg);const removePost=postId=>{if(window.confirm(\"Do really want to delete this post ?\")){console.log(postId);fetch(\"/deletePost/\".concat(postId),{method:'delete',headers:{Authorization:'Bearer '+localStorage.getItem('token')}}).then(res=>{res.json();}).then(result=>{console.log(result);toggleshow();navigate('/profile');notifyB(result.message);});}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"showComment\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"postPic\",children:/*#__PURE__*/_jsx(\"img\",{src:item.photo,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-pic\",children:/*#__PURE__*/_jsx(\"img\",{src:item.photo,alt:\"oops\"})}),/*#__PURE__*/_jsx(\"h5\",{className:\"profile-name\",children:item.postedBy.name}),/*#__PURE__*/_jsx(\"div\",{className:\"delete\",onClick:()=>{removePost(item._id);},children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"delete\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"comment-section\",children:item.comments.map(comment=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"comm\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"commenter\",style:{fontWeight:'bold'},children:item.postedBy.name}),/*#__PURE__*/_jsx(\"p\",{className:\"commentText\",children:comment.comment})]});})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[item.like.length,\" Likes\"]}),/*#__PURE__*/_jsx(\"p\",{children:item.body})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-comment\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined emoji\",children:\"mood\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Add message\"//   value={comment} onChange={(e) => { setComment(e.target.value) }} \n}),/*#__PURE__*/_jsx(\"button\",{className:\"material-symbols-outlined send\"//   onClick={()=>{\n//     makeComment(comment, item._id)\n//     toggleComment()\n//   }}\n,children:\"send\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"close\",onClick:()=>{toggleshow();},children:/*#__PURE__*/_jsx(\"span\",{class:\"material-symbols-outlined material-symbols-outlined-close\",children:\"close\"})})]})});}","map":{"version":3,"names":["React","useNavigate","toast","jsx","_jsx","jsxs","_jsxs","PostDetail","_ref","item","toggleshow","navigate","notifyA","msg","error","notifyB","success","removePost","postId","window","confirm","console","log","fetch","concat","method","headers","Authorization","localStorage","getItem","then","res","json","result","message","children","className","src","photo","alt","postedBy","name","onClick","_id","comments","map","comment","style","fontWeight","like","length","body","type","placeholder","class"],"sources":["D:/react/AD/backend/frontend/src/components/PostDetail.js"],"sourcesContent":["import React from 'react'\r\nimport '../css/Postdetails.css'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { toast } from 'react-toastify'\r\n\r\nexport default function PostDetail({ item, toggleshow }) {\r\n\r\n  const navigate= useNavigate()\r\n\r\n  const notifyA = (msg)=> toast.error(msg)\r\n  const notifyB = (msg)=> toast.success(msg)\r\n\r\n    const removePost=(postId)=>{\r\n      if(window.confirm(\"Do really want to delete this post ?\")){\r\n\r\n        console.log(postId)\r\n        fetch(`/deletePost/${postId}`,{\r\n            method:'delete',\r\n            headers:{\r\n                Authorization: 'Bearer ' +localStorage.getItem('token'),\r\n            }\r\n        })\r\n        .then((res)=>{res.json()})\r\n        .then((result)=>{\r\n            console.log(result)\r\n            toggleshow()\r\n            navigate('/profile')\r\n            notifyB(result.message)\r\n        })\r\n      }\r\n    }\r\n\r\n  return (\r\n    <div>\r\n        <div className='showComment'>\r\n        <div className='container'>\r\n          <div className='postPic'>\r\n            <img src={item.photo} alt=\"\" />\r\n          </div>\r\n          <div className=\"details\">\r\n            <div className=\"card-header\">\r\n              <div className=\"card-pic\">\r\n                <img src={item.photo} alt=\"oops\" />\r\n              </div>\r\n              <h5 className='profile-name'>{item.postedBy.name}</h5>\r\n              <div className=\"delete\" onClick={()=>{\r\n                removePost(item._id)\r\n                }}>\r\n              <span className=\"material-symbols-outlined\" >delete</span>\r\n              </div>\r\n            </div>\r\n           <div className=\"comment-section\">\r\n            {item.comments.map((comment)=>{\r\n             return (\r\n            <div className='comm'>\r\n              <p className='commenter' style={{fontWeight: 'bold'}}>{item.postedBy.name}</p>\r\n              <p className='commentText'>{comment.comment}</p>\r\n            </div>\r\n              )\r\n            })}\r\n            \r\n           </div>\r\n            <div className=\"card-content\">\r\n              <p>{item.like.length} Likes</p>\r\n              <p>{item.body}</p>\r\n            </div>\r\n            <div className=\"add-comment\">\r\n              <span className='material-symbols-outlined emoji'>mood</span>\r\n              <input type=\"text\" placeholder='Add message' \r\n            //   value={comment} onChange={(e) => { setComment(e.target.value) }} \r\n              />\r\n              <button className=\"material-symbols-outlined send\" \r\n            //   onClick={()=>{\r\n            //     makeComment(comment, item._id)\r\n            //     toggleComment()\r\n            //   }}\r\n              >send</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"close\" \r\n        onClick={()=>{\r\n          toggleshow()\r\n        }}\r\n        >\r\n        <span class=\"material-symbols-outlined material-symbols-outlined-close\">close</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}